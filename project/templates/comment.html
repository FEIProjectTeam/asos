{% load humanize asos_tags %}

<div class="">
    <p class="font-semibold">{{ comment.author.username }}</p>
    <p class="text-gray-600">{{ comment.text }}</p>
    <div class="flex items-center gap-2">
        <p class="text-sm text-gray-400">{{ comment.created|naturaltime }}</p>
        <button class="inline font-medium hover:text-gray-600 hover:underline transition-all">Reply</button>
    </div>


    <!-- Like Display -->
    <div class="flex items-center mt-2 gap-2">
        <!-- Like -->
        <div class="relative group">
            <button class="text-blue-500 cursor-pointer">👍 {{ comment.like_count }}</button>
            <div class="absolute left-0 w-max bg-white border rounded-lg shadow-lg p-2 hidden group-hover:block z-50">
                {% for user in comment.like_authors %}
                    <p class="text-sm">{{ user }}</p>
                {% empty %}
                    <p class="text-sm text-gray-500">No likes yet</p>
                {% endfor %}
            </div>
        </div>

        <!-- Heart -->
        <div class="relative group">
            <button class="text-red-500 cursor-pointer">❤️ {{ comment.heart_count }}</button>
            <div class="absolute left-0 w-max bg-white border rounded-lg shadow-lg p-2 hidden group-hover:block z-50">
                {% for user in comment.heart_authors %}
                    <p class="text-sm">{{ user }}</p>
                {% empty %}
                    <p class="text-sm text-gray-500">No hearts yet</p>
                {% endfor %}
            </div>
        </div>

        <!-- Laugh -->
        <div class="relative group">
            <button class="text-yellow-500 cursor-pointer">😂 {{ comment.laugh_count }}</button>
            <div class="absolute left-0 w-max bg-white border rounded-lg shadow-lg p-2 hidden group-hover:block z-50">
                {% for user in comment.laugh_authors %}
                    <p class="text-sm">{{ user }}</p>
                {% empty %}
                    <p class="text-sm text-gray-500">No laughs yet</p>
                {% endfor %}
            </div>
        </div>
    </div>

    {% if comment.id in replies %}
        <div class="mt-2 space-y-2 ml-6">
            {% for reply in replies|get_item:comment.id %}
                {% include "comment.html" with comment=reply %}
            {% endfor %}
        </div>
    {% endif %}
</div>